<!doctype js>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Cafe Simulator</title>
  <style>
    /* 기본 레이아웃 - 텍스트 중심 UI */
    :root{--bg:#fafafa;--card:#fff;--accent:#333}
    body{font-family:system-ui,-apple-system,\"Noto Sans KR\",sans-serif;background:var(--bg);color:var(--accent);margin:0;padding:24px}
    h1{margin:0 0 12px}
    .screen{max-width:780px;margin:0 auto;background:var(--card);padding:18px;border-radius:8px;box-shadow:0 6px 18px rgba(0,0,0,0.06)}
    .menu-list{list-style:none;padding:0;margin:12px 0}
    .menu-list li{margin:8px 0}
    button{padding:8px 12px;border-radius:6px;border:1px solid #ddd;background:#fff;cursor:pointer}
    .small{font-size:13px;padding:6px 10px}
    .row{display:flex;gap:12px;align-items:center}
    .col{display:flex;flex-direction:column;gap:8px}

    /* 레시피북 팝업 */
    .overlay{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.4);}
    .popup{background:#fff;padding:16px;border-radius:8px;max-width:640px;width:90%;max-height:80vh;overflow:auto}
    .popup h3{margin:0 0 8px}
    .close{float:right;border:0;background:transparent;font-weight:700}

    /* 게임 화면 텍스트 스타일 */
    .meta{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
    .slots{display:flex;gap:8px;margin:14px 0}
    .slot{min-width:140px;padding:10px;border:2px dashed #ccc;border-radius:6px;text-align:left}
    .ingredients{display:flex;flex-direction:column;gap:8px}
    .ingredient{padding:10px;border-radius:6px;border:1px solid #e0e0e0}
    .disabled{opacity:0.5}
    .hidden{display:none}
    .status{margin-top:8px}
    pre{white-space:pre-wrap}
  </style>
</head>
<body>
  <div class="screen" id="app">
    <h1>Cafe Simulator(by Kang)</h1>

    <!-- HOME VIEW -->
    <div id="homeView">
      <ol class="menu-list">
        <li><button id="startBtn">1) 게임 시작</button></li>
        <li><button id="openBookBtn">2) 레시피북</button></li>
        <li><button id="optionsBtn">3) 옵션</button></li>
        <li><button id="quitBtn">4) 종료</button></li>
      </ol>

      <div class="row">
        <div>최고 점수: <span id="bestScore">0</span></div>
        <div>모드: <span id="currentMode">모든 메뉴</span></div>
      </div>
    </div>

    <!-- OPTIONS VIEW -->
    <div id="optionsView" class="hidden">
      <h2>옵션</h2>
      <div class="col">
        <label>타이머 설정</label>
        <div class="row">
          <button class="small" data-t=10>초급 10초</button>
          <button class="small" data-t=8>중급 8초</button>
          <button class="small" data-t=5>고급 5초</button>
        </div>

        <label>출제 필터</label>
        <div class="row">
          <button class="small" id="filterAll">모든 메뉴</button>
          <button class="small" id="filterHot">Hot만</button>
          <button class="small" id="filterIce">Ice만</button>
        </div>

        <div class="row">
          <button id="backFromOptions" class="small">뒤로가기</button>
        </div>
      </div>
    </div>

    <!-- GAME VIEW -->
    <div id="gameView" class="hidden">
      <div class="meta">
        <div><strong id="menuTitle">메뉴명</strong> (<span id="menuTemp">Hot</span>)</div>
        <div>시간: <span id="timer">10</span>s</div>
      </div>

      <div>점수: <span id="score">0</span> | 콤보: <span id="combo">0</span></div>

      <div class="slots" id="slots"></div>

      <div>
        <div class="ingredients" id="ingredients"></div>
      </div>

      <div class="status" id="status"></div>

      <div class="row" style="margin-top:12px;">
        <button id="giveUpBtn">포기</button>
        <button id="nextBtn" class="hidden">다음 문제</button>
      </div>

      <div class="meta">
        <div>
            남은 게임 시간: <span id="totalTimer">02:00</span>
        </div>
    </div>

    <!-- RESULT VIEW (간단) -->
    <div id="resultView" class="hidden">
      <h2 id="resultText">결과</h2>
      <div>획득 점수: <span id="lastScore">0</span></div>
      <div><button id="backHome">홈으로</button></div>
    </div>

  </div>

  <!-- 레시피북 팝업 (텍스트 팝업) -->
  <div id="recipePopup" class="overlay hidden">
    <div class="popup">
      <button class="close" id="closeBook">X</button>
      <h3>레시피북</h3>
      <pre id="recipeContent">loading...</pre>
    </div>
  </div>
  
<!-- recipes.js를 먼저 불러오기 -->
<script src="recipes.js"></script>
<!-- 게임 로직 불러오기 -->
<script src="somesome.js"></script>
